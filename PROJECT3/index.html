<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Todo List</title>
  </head>
  <body>
    <h1>Todo List</h1>

    Enter Tasks:
    <input type="text" id="Tasks" />

    Enter Task Description:
    <input type="text" id="taskdesc" />

    <button onclick="addTask()">Add Task</button>
    <button onclick="resetTasks()">Clear All</button>

    <ul id="tasksList"></ul>

  <script>
  let counter = 0;

  function deleteTasks(buttonid) {
    const confirmDelete = confirm("Do you really want to delete this task?");

    if (confirmDelete) {
      const taskdiv = document.getElementById(buttonid.parentElement.id);
      taskdiv.remove();
      alert("TASK DELETED SUCCESSFULLY!");
    } 
  }

  function addTask() {
    const taskInput = document.getElementById("Tasks").value;
    const taskDesc = document.getElementById("taskdesc").value;

    if (taskInput === "" || !isNaN(taskInput)) {
      alert("Please enter a valid task");
      return;
    }

    counter++;

    let datetoday = new Date();
    const li = document.createElement("li");

    li.innerHTML = `
      <div id="taskdetails-${counter}">
        <h2 id="taskname-${counter}">${taskInput}</h2>
        <p id="taskdescription-${counter}">${taskDesc}</p>
        <p id="taskcreatedAt-${counter}">
          ${datetoday.toLocaleString()}
        </p>
        <button onclick="deleteTasks(this)">Delete</button>
      </div>
    `;

    document.getElementById("tasksList").appendChild(li);

    document.getElementById("Tasks").value = "";
    document.getElementById("taskdesc").value = "";
  }

  function resetTasks() {
    document.getElementById("tasksList").innerHTML = "";
    counter = 0;
  }
</script>

  </body>
</html>
